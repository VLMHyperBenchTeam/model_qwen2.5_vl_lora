–û—Ç–ª–∏—á–Ω–æ ‚Äî –æ–±—Ä–∞–∑ —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è –±–µ–∑ –æ—à–∏–±–æ–∫, –∑–Ω–∞—á–∏—Ç –≤—Å—è —Ü–µ–ø–æ—á–∫–∞
`uv sync ‚Üí —Å–±–æ—Ä–∫–∞ wheel flash-attn ‚Üí —É—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ prod-—Å–ª–æ–π` —Ä–∞–±–æ—Ç–∞–µ—Ç.

–ß—Ç–æ –º–æ–∂–Ω–æ —Å–¥–µ–ª–∞—Ç—å –¥–∞–ª—å—à–µ.

1. –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
   ```bash
   docker run --gpus all --rm -it your-image-name \
       python - <<'PY'
   import torch, flash_attn
   print("CUDA:", torch.version.cuda)
   print("Flash-attn OK:", flash_attn.__version__)
   PY
   ```

2. –í—ã—Ç–∞—â–∏—Ç—å —Å–æ–±—Ä–∞–Ω–Ω—ã–π wheel –Ω–∞ —Ö–æ—Å—Ç –∏ –æ–ø—É–±–ª–∏–∫–æ–≤–∞—Ç—å –µ–≥–æ
   ```bash
   id=$(docker create your-image-name)
   docker cp "$id":/wheelhouse/flash_attn*.whl .
   docker rm "$id"
   # –∑–∞—Ç–µ–º –ø—Ä–∏–∫—Ä–µ–ø–∏—Ç–µ .whl –∫ —Ä–µ–ª–∏–∑—É –Ω–∞ GitHub
   ```

3. –°—Å—ã–ª–∞—Ç—å—Å—è –Ω–∞ wheel –∏–∑ `pyproject.toml`
   –í —Å–µ–∫—Ü–∏–∏ `[project.optional-dependencies.flash]` –≤–º–µ—Å—Ç–æ
   ```
   flash-attn==2.6.1
   ```
   —É–∫–∞–∂–∏—Ç–µ –ø—Ä—è–º—É—é —Å—Å—ã–ª–∫—É:
   ```
   flash-attn @ https://github.com/USER/REPO/releases/download/vX.Y.Z/flash_attn-2.6.1+cu124torch2.4.0-cp312-cp312-linux_x86_64.whl
   ```
   –ü–æ—Å–ª–µ —ç—Ç–æ–≥–æ –ª—é–±–æ–π `uv sync --extra flash` –ø–æ–¥—Ç—è–Ω–µ—Ç –∏–º–µ–Ω–Ω–æ –≤–∞—à –±–∏–Ω–∞—Ä–Ω–∏–∫.

4. –û—Ç–ª–∞–¥–∫–∞ –Ω–∞ –±—É–¥—É—â–µ–µ
   –ï—Å–ª–∏ –ø—Ä–∏ —Å–ª–µ–¥—É—é—â–∏—Ö –∏–∑–º–µ–Ω–µ–Ω–∏—è—Ö —Å–±–æ—Ä–∫–∞ –æ–ø—è—Ç—å ¬´—É–ø–∞–¥—ë—Ç¬ª, –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ø—Ä–∏—ë–º—ã
   –∏–∑ —Å—Ç–∞—Ç—å–∏ [Docker Community Forums ‚Äî How to debug build failures](https://forums.docker.com/t/how-to-debug-build-failures/7049):
   ‚Ä¢ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä –Ω–∞ —à–∞–≥–µ –ø–µ—Ä–µ–¥ –æ—à–∏–±–∫–æ–π
   ‚Ä¢ `docker run -ti <image_id> bash` ‚Äî –∏ —Å–º–æ—Ç—Ä–∏—Ç–µ —Ñ–∞–π–ª–æ–≤—É—é —Å–∏—Å—Ç–µ–º—É, –≤–µ—Ä—Å–∏–∏
     –±–∏–±–ª–∏–æ—Ç–µ–∫ –∏ —Ç.–¥.

–ü–æ–∑–¥—Ä–∞–≤–ª—è—é üéâ ‚Äî —É –≤–∞—Å –≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º—ã–π prod-–æ–±—Ä–∞–∑ –∏ —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–π wheel
FlashAttention, –≥–æ—Ç–æ–≤—ã–π –∫ –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –∏ –¥–∞–ª—å–Ω–µ–π—à–µ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é.